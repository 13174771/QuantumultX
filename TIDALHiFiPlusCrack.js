/******************************

脚本功能：TIDAL解锁HiFi Plus
软件版本：2.48.0【美区下载】
下载地址：http://t.cn/A662gqIO
脚本作者：Hausd0rff
更新时间：2022-06-27
脚本发布：https://t.me/yqc_123
问题反馈：https://t.me/yqc_777
使用声明：⚠️此脚本仅供学习与交流，
        请勿转载与贩卖！⚠️⚠️⚠️
*******************************
[rewrite_local]
# > TIDAL解锁HiFi Plus
^https?:\/\/api\.tidal\.com\/v1\/(pages\/album|(user|track|page)s\/(\d+)\/(state|subscription|lyrics|onboarding|playbackinfopostpaywall)) url script-request-header https://raw.githubusercontent.com/yqc007/QuantumultX/master/TIDALHiFiPlusCrack.js

[mitm] 
hostname = api.tidal.com

*******************************/

var encode_version = 'hausd0rff',
    xkmwg = '__0xe44ef',
    __0xe44ef = ['54mC5p6W5Y+m772vWcKS5L2+5ayx5p255b+v56m777+T6Ly26KyS5pWy5oyq5omU5Lu255qK5bWd5L65', '5Yqj6ZiR54u75p6y5Y2m772nVMOA5L+I5ayO5pyo5b2U56qh', 'w4TDlAfChcO4', 'wqzDrsKzT8Kq', 'E1bDpsKDMQ==', 'XsOKXQZf', 'w7V2L8OtcjfCgA==', 'w6hhIg==', 'OAzDtVvDjcKaPsK/', 'wp3Dp8K5BMKPwq0tTMKfEG3CjMKI', 'wq0zwr3CqcKcSVzDusKGEADDjcOyFUfCtsOmNcK/w7bDssKQwqVhwodiZFDCmMKtwo/DiyXCpAHDlhPDp8OIwo7CgHTDuifCoMKTw5hcHGZ3wr/Dv3HCj8OLBMK3LcKTacKMaVjCuMKjbHo9wp4Tw4nDiMKTOg9wPQ5Lw4XDgyXCsmvDkMKuUyssw6YtacOMw7p2OcK2woTCmsO/w6HCqMOGN8Ogc8Ogw7xGVcOXw55XMMOiwpHDiiNVw7rClMOfA18Iw7jComfDm8O+wrTCicKBT8OJw7dTwrzDmsKJw4/ChCnDj8KxwqMew5XCmTbDrwfCqm16VGEhw5YtOxDCgxACw7ZwwqZEw7DCvcKbOm/DpMOOwpfCpAIIwqQIwop8woXCicK3wrfDpmZKw5A+c3ZxwqfDk8KNwqI7Aj/DvcO7McKyw53CtMKpwo3DrRBjVwDDqQduQxTDnMOZwpDCvg3DnHpewqBTwoDCsmQtwrZ0Px/DkBZtSERNPxpKw5pCOMOzTFxDN8KhJV1zV0pTwr7DnF7CggQvGMO0w6rCosKuPhvCscOzw5jCjnsSUcKdLCrDtsOuDBjCp8Ogwp3DksKIR8Osc8KNfMOOw79qw6EMJXwUw6/Cs0o+wq9ULEtqF8Kpwo8ZTR7CrmLDlcOQwqUjw4rDgMKqKcOMXy/CtcObbDNDcm1ww5fCrXFmV8O7wpLChMOBG8KcBcOVwqgEEsKtw7gqQcKpEMOswq9SFcKKO8O5wrTClCZADTMzI2BoNkLCoC0ww7/CmcONw78gE3dYwqMQwrDDtj80CcK0w6FBGHUCw4zCtsKVJGRqRsKme8KtKsOqKMK2wrVLMhMVwqbDlGFiwqTDrcKHw5bCtcKGVhzDt8OywpbCpcOdwpZOw47Cvg==', 'wpdhFMKfwoE=', 'OcK5wpwsw4Q=', 'wrXDs8KBw70uHsKH', 'fQTCgGvDhA==', 'PcKzK8KlVHd5AsO7ccOIN1bCjsKOwpPDs33DrBrDtmPCqC7Clg==', 'wq/Dp8KvH8KDwq0tRsKKDWvCjQ==', 'b8KGw600XMOKHWtlOWZvwrsNw7HDpcKnw4jClMK1OsO4w6rDtzEbfh7DjcO9woxh', 'w7Q4DMKqw53DgsOP', 'w4Agw63DtMKMSBnDrcKMdUPClMKddB7Dj8K3TcK5wpbDiMOPwoBswqB4cW7CpcKD', 'wop4wrI=', 'DDrDvmV3w6HChD0l', 'IS55SsOpw5TDkUwtwqHDhsOHQFo='];
(function(_0x4e8335, _0x439725) {
    var _0xd56bb8 = function(_0x174c5d) {
        while (--_0x174c5d) {
            _0x4e8335['push'](_0x4e8335['shift']())
        }
    };
    _0xd56bb8(++_0x439725)
}(__0xe44ef, 0x1bb));
var _0xdb45 = function(_0x231fd0, _0x4f680a) {
    _0x231fd0 = _0x231fd0 - 0x0;
    var _0x5b4826 = __0xe44ef[_0x231fd0];
    if (_0xdb45['initialized'] === undefined) {
        (function() {
            var _0x550fbc = typeof window !== 'undefined' ? window : typeof process === 'object' && typeof require === 'function' && typeof global === 'object' ? global : this;
            var _0x18d5c9 = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';
            _0x550fbc['atob'] || (_0x550fbc['atob'] = function(_0x4ce2f1) {
                var _0x333808 = String(_0x4ce2f1)['replace'](/=+$/, '');
                for (var _0x432180 = 0x0, _0x2ab90b, _0x991246, _0x981158 = 0x0, _0x57b080 = ''; _0x991246 = _0x333808['charAt'](_0x981158++); ~_0x991246 && (_0x2ab90b = _0x432180 % 0x4 ? _0x2ab90b * 0x40 + _0x991246 : _0x991246, _0x432180++ % 0x4) ? _0x57b080 += String['fromCharCode'](0xff & _0x2ab90b >> (-0x2 * _0x432180 & 0x6)) : 0x0) {
                    _0x991246 = _0x18d5c9['indexOf'](_0x991246)
                }
                return _0x57b080
            })
        }());
        var _0x219af0 = function(_0x441e3a, _0x2cc193) {
            var _0x5f41ea = [],
                _0x503809 = 0x0,
                _0xe42b77, _0x56465b = '',
                _0x52cace = '';
            _0x441e3a = atob(_0x441e3a);
            for (var _0x39753a = 0x0, _0xf81284 = _0x441e3a['length']; _0x39753a < _0xf81284; _0x39753a++) {
                _0x52cace += '%' + ('00' + _0x441e3a['charCodeAt'](_0x39753a)['toString'](0x10))['slice'](-0x2)
            }
            _0x441e3a = decodeURIComponent(_0x52cace);
            for (var _0x307b3e = 0x0; _0x307b3e < 0x100; _0x307b3e++) {
                _0x5f41ea[_0x307b3e] = _0x307b3e
            }
            for (_0x307b3e = 0x0; _0x307b3e < 0x100; _0x307b3e++) {
                _0x503809 = (_0x503809 + _0x5f41ea[_0x307b3e] + _0x2cc193['charCodeAt'](_0x307b3e % _0x2cc193['length'])) % 0x100;
                _0xe42b77 = _0x5f41ea[_0x307b3e];
                _0x5f41ea[_0x307b3e] = _0x5f41ea[_0x503809];
                _0x5f41ea[_0x503809] = _0xe42b77
            }
            _0x307b3e = 0x0;
            _0x503809 = 0x0;
            for (var _0x3ab53f = 0x0; _0x3ab53f < _0x441e3a['length']; _0x3ab53f++) {
                _0x307b3e = (_0x307b3e + 0x1) % 0x100;
                _0x503809 = (_0x503809 + _0x5f41ea[_0x307b3e]) % 0x100;
                _0xe42b77 = _0x5f41ea[_0x307b3e];
                _0x5f41ea[_0x307b3e] = _0x5f41ea[_0x503809];
                _0x5f41ea[_0x503809] = _0xe42b77;
                _0x56465b += String['fromCharCode'](_0x441e3a['charCodeAt'](_0x3ab53f) ^ _0x5f41ea[(_0x5f41ea[_0x307b3e] + _0x5f41ea[_0x503809]) % 0x100])
            }
            return _0x56465b
        };
        _0xdb45['rc4'] = _0x219af0;
        _0xdb45['data'] = {};
        _0xdb45['initialized'] = !![]
    }
    var _0xfeb75b = _0xdb45['data'][_0x231fd0];
    if (_0xfeb75b === undefined) {
        if (_0xdb45['once'] === undefined) {
            _0xdb45['once'] = !![]
        }
        _0x5b4826 = _0xdb45['rc4'](_0x5b4826, _0x4f680a);
        _0xdb45['data'][_0x231fd0] = _0x5b4826
    } else {
        _0x5b4826 = _0xfeb75b
    }
    return _0x5b4826
};
var mreqh = $request[_0xdb45('0x0', ')e[1')];
var orurl = $request[_0xdb45('0x1', ')e[1')];
var pathm = getLocation(orurl)[_0xdb45('0x2', 'DR0q')];
mreqh[_0xdb45('0x3', 'ru)V')] = _0xdb45('0x4', ']WWM');
function getLocation(_0x473f1e) {
    var _0x113750 = {
        'lULqS': function _0x278706(_0x1d6b2e, _0x19e06d) {
            return _0x1d6b2e && _0x19e06d
        }
    };
    var _0x145fca = _0x473f1e[_0xdb45('0x5', 'wIGZ')](/^(https?\:)\/\/(([^:\/?#]*)(?:\:([0-9]+))?)([\/]{0,1}[^?#]*)(\?[^#]*|)(#.*|)$/);
    return _0x113750[_0xdb45('0x6', 'wi7]')](_0x145fca, {
        'href': _0x473f1e,
        'protocol': _0x145fca[0x1],
        'host': _0x145fca[0x2],
        'hostname': _0x145fca[0x3],
        'port': _0x145fca[0x4],
        'pathname': _0x145fca[0x5],
        'search': _0x145fca[0x6],
        'hash': _0x145fca[0x7]
    })
}
if (orurl[_0xdb45('0x7', 'QWmw')](_0xdb45('0x8', '16Ly')) != -0x1) {
    var mpath = _0xdb45('0x9', '&RfV')
}
if (orurl['indexOf'](_0xdb45('0xa', 'ru)V')) != -0x1) {
    var mpath = _0xdb45('0xb', 'kR#i')
}
if (orurl[_0xdb45('0xc', 'xkIN')]('onboarding') != -0x1) {
    var mpath = _0xdb45('0xd', ']WWM')
}
if (mpath === undefined) {
    $done({
        'headers': mreqh
    })
} else {
    $done({
        'url': $request['url']['replace'](pathm, mpath),
        'headers': mreqh
    })
};
(function(_0x318cde, _0x37f346, _0x4c109f) {
    var _0x1082bd = {
        'oiORM': _0xdb45('0xe', 'gKzU'),
        'fTQEi': function _0x47c996(_0x52230a, _0x1b48e7) {
            return _0x52230a !== _0x1b48e7
        },
        'oUFKG': _0xdb45('0xf', '^@pm'),
        'ezlyF': function _0x496a8d(_0x27dcf6, _0x29546e) {
            return _0x27dcf6 === _0x29546e
        },
        'kZQun': _0xdb45('0x10', 'HvMC'),
        'qRQtP': function _0x35c268(_0x4778b0, _0x3b187a) {
            return _0x4778b0 + _0x3b187a
        },
        'UJoMn': _0xdb45('0x11', ']6m['),
        'TpLel': _0xdb45('0x12', 'MuG@')
    };
    _0x4c109f = 'al';
    try {
        _0x4c109f += _0x1082bd[_0xdb45('0x13', 'mtmT')];
        _0x37f346 = encode_version;
        if (!(_0x1082bd['fTQEi'](typeof _0x37f346, _0x1082bd['oUFKG']) && _0x1082bd['ezlyF'](_0x37f346, _0x1082bd[_0xdb45('0x14', '[D^n')]))) {
            _0x318cde[_0x4c109f](_0x1082bd[_0xdb45('0x15', 'd!GH')](_0x1082bd['UJoMn']))
        }
    } catch (_0x157848) {
        _0x318cde[_0x4c109f](_0x1082bd[_0xdb45('0x16', ']6m[')])
    }
});
